-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Feb 21, 2024 at 07:04 PM
-- Server version: 10.4.28-MariaDB
-- PHP Version: 8.2.4

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `group_32`
--

-- --------------------------------------------------------

--
-- Table structure for table `time1`
--

CREATE TABLE `time1` (
  `id` int(11) NOT NULL,
  `drama_id` int(11) NOT NULL,
  `date` date NOT NULL,
  `time` time NOT NULL,
  `seat_id` varchar(20) NOT NULL,
  `status` varchar(20) NOT NULL,
  `username` varchar(100) NOT NULL,
  `email` varchar(50) NOT NULL,
  `phone` varchar(15) NOT NULL,
  `price` int(5) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `time1`
--

INSERT INTO `time1` (`id`, `drama_id`, `date`, `time`, `seat_id`, `status`, `username`, `email`, `phone`, `price`) VALUES
(1, 10, '2024-02-21', '09:00:00', 'A1', 'free', '', '', '', 0),
(10, 10, '2024-02-21', '09:00:00', 'A10', 'free', '', '', '', 0),
(11, 10, '2024-02-21', '09:00:00', 'A11', 'free', '', '', '', 0),
(12, 10, '2024-02-21', '09:00:00', 'A12', 'free', '', '', '', 0),
(13, 10, '2024-02-21', '09:00:00', 'A13', 'free', '', '', '', 0),
(14, 10, '2024-02-21', '09:00:00', 'A14', 'free', '', '', '', 0),
(15, 10, '2024-02-21', '09:00:00', 'A15', 'free', '', '', '', 0),
(16, 10, '2024-02-21', '09:00:00', 'A16', 'free', '', '', '', 0),
(17, 10, '2024-02-21', '09:00:00', 'A17', 'free', '', '', '', 0),
(18, 10, '2024-02-21', '09:00:00', 'A18', 'free', '', '', '', 0),
(19, 10, '2024-02-21', '09:00:00', 'A19', 'free', '', '', '', 0),
(2, 10, '2024-02-21', '09:00:00', 'A2', 'free', '', '', '', 0),
(20, 10, '2024-02-21', '09:00:00', 'A20', 'free', '', '', '', 0),
(21, 10, '2024-02-21', '09:00:00', 'A21', 'free', '', '', '', 0),
(22, 10, '2024-02-21', '09:00:00', 'A22', 'free', '', '', '', 0),
(23, 10, '2024-02-21', '09:00:00', 'A23', 'free', '', '', '', 0),
(24, 10, '2024-02-21', '09:00:00', 'A24', 'free', '', '', '', 0),
(25, 10, '2024-02-21', '09:00:00', 'A25', 'free', '', '', '', 0),
(26, 10, '2024-02-21', '09:00:00', 'A26', 'free', '', '', '', 0),
(27, 10, '2024-02-21', '09:00:00', 'A27', 'free', '', '', '', 0),
(28, 10, '2024-02-21', '09:00:00', 'A28', 'free', '', '', '', 0),
(29, 10, '2024-02-21', '09:00:00', 'A29', 'free', '', '', '', 0),
(3, 10, '2024-02-21', '09:00:00', 'A3', 'free', '', '', '', 0),
(30, 10, '2024-02-21', '09:00:00', 'A30', 'free', '', '', '', 0),
(31, 10, '2024-02-21', '09:00:00', 'A31', 'free', '', '', '', 0),
(32, 10, '2024-02-21', '09:00:00', 'A32', 'free', '', '', '', 0),
(33, 10, '2024-02-21', '09:00:00', 'A33', 'free', '', '', '', 0),
(34, 10, '2024-02-21', '09:00:00', 'A34', 'free', '', '', '', 0),
(35, 10, '2024-02-21', '09:00:00', 'A35', 'free', '', '', '', 0),
(36, 10, '2024-02-21', '09:00:00', 'A36', 'free', '', '', '', 0),
(37, 10, '2024-02-21', '09:00:00', 'A37', 'free', '', '', '', 0),
(38, 10, '2024-02-21', '09:00:00', 'A38', 'free', '', '', '', 0),
(39, 10, '2024-02-21', '09:00:00', 'A39', 'free', '', '', '', 0),
(4, 10, '2024-02-21', '09:00:00', 'A4', 'free', '', '', '', 40),
(40, 10, '2024-02-21', '09:00:00', 'A40', 'free', '', '', '', 0),
(41, 10, '2024-02-21', '09:00:00', 'A41', 'free', '', '', '', 0),
(42, 10, '2024-02-21', '09:00:00', 'A42', 'free', '', '', '', 0),
(43, 10, '2024-02-21', '09:00:00', 'A43', 'free', '', '', '', 0),
(44, 10, '2024-02-21', '09:00:00', 'A44', 'free', '', '', '', 0),
(45, 10, '2024-02-21', '09:00:00', 'A45', 'free', '', '', '', 0),
(46, 10, '2024-02-21', '09:00:00', 'A46', 'free', '', '', '', 0),
(47, 10, '2024-02-21', '09:00:00', 'A47', 'free', '', '', '', 0),
(48, 10, '2024-02-21', '09:00:00', 'A48', 'free', '', '', '', 0),
(49, 10, '2024-02-21', '09:00:00', 'A49', 'free', '', '', '', 0),
(5, 10, '2024-02-21', '09:00:00', 'A5', 'free', '', '', '', 0),
(50, 10, '2024-02-21', '09:00:00', 'A50', 'free', '', '', '', 0),
(51, 10, '2024-02-21', '09:00:00', 'A51', 'free', '', '', '', 0),
(52, 10, '2024-02-21', '09:00:00', 'A52', 'free', '', '', '', 0),
(53, 10, '2024-02-21', '09:00:00', 'A53', 'free', '', '', '', 0),
(54, 10, '2024-02-21', '09:00:00', 'A54', 'free', '', '', '', 0),
(55, 10, '2024-02-21', '09:00:00', 'A55', 'free', '', '', '', 0),
(56, 10, '2024-02-21', '09:00:00', 'A56', 'free', '', '', '', 0),
(57, 10, '2024-02-21', '09:00:00', 'A57', 'free', '', '', '', 0),
(58, 10, '2024-02-21', '09:00:00', 'A58', 'free', '', '', '', 0),
(59, 10, '2024-02-21', '09:00:00', 'A59', 'free', '', '', '', 0),
(6, 10, '2024-02-21', '09:00:00', 'A6', 'free', '', '', '', 0),
(60, 10, '2024-02-21', '09:00:00', 'A60', 'free', '', '', '', 0),
(61, 10, '2024-02-21', '09:00:00', 'A61', 'free', '', '', '', 0),
(62, 10, '2024-02-21', '09:00:00', 'A62', 'free', '', '', '', 0),
(63, 10, '2024-02-21', '09:00:00', 'A63', 'free', '', '', '', 0),
(64, 10, '2024-02-21', '09:00:00', 'A64', 'free', '', '', '', 0),
(65, 10, '2024-02-21', '09:00:00', 'A65', 'free', '', '', '', 0),
(66, 10, '2024-02-21', '09:00:00', 'A66', 'free', '', '', '', 0),
(67, 10, '2024-02-21', '09:00:00', 'A67', 'free', '', '', '', 0),
(68, 10, '2024-02-21', '09:00:00', 'A68', 'free', '', '', '', 0),
(69, 10, '2024-02-21', '09:00:00', 'A69', 'free', '', '', '', 0),
(7, 10, '2024-02-21', '09:00:00', 'A7', 'free', '', '', '', 0),
(70, 10, '2024-02-21', '09:00:00', 'A70', 'free', '', '', '', 0),
(71, 10, '2024-02-21', '09:00:00', 'A71', 'free', '', '', '', 0),
(72, 10, '2024-02-21', '09:00:00', 'A72', 'free', '', '', '', 0),
(73, 10, '2024-02-21', '09:00:00', 'A73', 'free', '', '', '', 0),
(74, 10, '2024-02-21', '09:00:00', 'A74', 'free', '', '', '', 0),
(75, 10, '2024-02-21', '09:00:00', 'A75', 'free', '', '', '', 0),
(76, 10, '2024-02-21', '09:00:00', 'A76', 'free', '', '', '', 0),
(77, 10, '2024-02-21', '09:00:00', 'A77', 'free', '', '', '', 0),
(78, 10, '2024-02-21', '09:00:00', 'A78', 'free', '', '', '', 0),
(79, 10, '2024-02-21', '09:00:00', 'A79', 'free', '', '', '', 0),
(8, 10, '2024-02-21', '09:00:00', 'A8', 'free', '', '', '', 0),
(80, 10, '2024-02-21', '09:00:00', 'A80', 'free', '', '', '', 0),
(9, 10, '2024-02-21', '09:00:00', 'A9', 'free', '', '', '', 0);

--
-- Triggers `time1`
--
DELIMITER $$
CREATE TRIGGER `update_to_pending_trigger` AFTER UPDATE ON `time1` FOR EACH ROW BEGIN
    IF NEW.status = 'pending' THEN
        INSERT INTO pending_status (status_id) VALUES (NEW.id);
    END IF;
END
$$
DELIMITER ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `time1`
--
ALTER TABLE `time1`
  ADD PRIMARY KEY (`drama_id`,`date`,`time`,`seat_id`),
  ADD UNIQUE KEY `auto` (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `time1`
--
ALTER TABLE `time1`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=99;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
